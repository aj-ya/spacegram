(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[547],{1551:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/date/[date]",function(){return n(2411)}])},2748:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(5893),o=n(8527),a=n(9238),i=n(4651),u=n(7294),l=function(){return(0,r.jsx)(o.xu,{width:"lg",height:"400",className:"jd",children:(0,r.jsx)(o.M5,{height:"100%",children:(0,r.jsx)(a.$,{})})})},c=function(e){var t=e.url,n=e.alt,o=(0,u.useState)(!1);o[0],o[1];return(0,r.jsx)(i.Ee,{src:t,alt:n,height:"400px",width:"lg",transform:"scale(1.0)",transition:"0.3s ease-in-out",_hover:{transform:"scale(1.05)"},_focus:{transform:"scale(1.05)"},fallback:(0,r.jsx)(l,{})})},s=n(5193),f=n(8193),d=function(e){var t=e.postid,n=e.handlePostInteraction,o=e.defl,a=(0,u.useState)(o),i=a[0],l=a[1],c=function(){l(!i)};return(0,u.useEffect)((function(){n(t,i)}),[n,i,t]),i?(0,r.jsx)(s.zx,{onClick:c,rightIcon:(0,r.jsx)(f.M_L,{}),width:"90px",height:"30px",colorScheme:"red",variant:"outline",transition:"0.3s ease-in-out",children:"Unlike"}):(0,r.jsx)(s.zx,{onClick:c,rightIcon:(0,r.jsx)(f.lo,{}),colorScheme:"grey",width:"90px",height:"30px",variant:"outline",transition:"0.3s ease-in-out",children:"Like"})},p=function(e){var t=e.date,n=(0,u.useState)(!1),o=n[0],a=n[1];return(0,u.useEffect)((function(){if(o){setTimeout((function(){a(!1)}),3e3);var e=window.location.origin;navigator.clipboard.writeText("".concat(e,"/date/").concat(t))}}),[o,t]),o?(0,r.jsx)(s.zx,{rightIcon:(0,r.jsx)(f.x2q,{}),width:"90px",height:"30px",colorScheme:"green",variant:"outline",transition:"0.3s ease-in-out",children:"Copied"}):(0,r.jsx)(s.zx,{rightIcon:(0,r.jsx)(f.x2q,{}),width:"90px",height:"30px",colorScheme:"grey",variant:"outline",transition:"0.3s ease-in-out",onClick:function(){a(!0)},children:"Share"})},h=function(e){var t=e.apod,n=e.likes,a=e.handlePostInteraction;return(0,r.jsxs)(o.xu,{borderWidth:"1px",maxW:"lg",borderRadius:"lg",overflow:"hidden",bgColor:"gray.100",children:[(0,r.jsx)(o.M5,{children:(0,r.jsx)(c,{url:t.url,alt:t.title})}),(0,r.jsx)(o.LZ,{height:"6px"}),(0,r.jsxs)(o.xu,{padding:"10px",children:[(0,r.jsx)(o.xv,{fontWeight:600,children:t.title}),(0,r.jsx)(o.xv,{color:"gray.600",height:"xs",overflowY:"scroll",className:"container",textOverflow:"ellipsis",children:t.explanation}),(0,r.jsx)(o.LZ,{height:"5px"}),(0,r.jsxs)(o.Kq,{direction:"row",spacing:"space-between",width:"100%",children:[(0,r.jsx)(o.M5,{children:(0,r.jsx)(o.xv,{color:"gray.500",children:t.date})}),(0,r.jsx)(o.LZ,{}),(0,r.jsxs)(o.Kq,{direction:"row",children:[(0,r.jsx)(p,{date:t.date}),(0,r.jsx)(d,{postid:t.date,handlePostInteraction:a,defl:n.has(t.date)})]})]})]})]})}},1210:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=function(e,t,n,r){return!1};("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8418:function(e,t,n){"use strict";var r=n(4941).Z;n(5753).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(7294))&&o.__esModule?o:{default:o},i=n(6273),u=n(2725),l=n(3462),c=n(1018),s=n(7190),f=n(1210),d=n(8684);var p="undefined"!==typeof a.default.useTransition,h={};function x(e,t,n,r){if(e&&i.isLocalURL(t)){e.prefetch(t,n,r).catch((function(e){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;h[t+"%"+n+(o?"%"+o:"")]=!0}}var v=a.default.forwardRef((function(e,t){var n,o=e.href,v=e.as,g=e.children,j=e.prefetch,y=e.passHref,_=e.replace,b=e.shallow,w=e.scroll,m=e.locale,M=e.onClick,k=e.onMouseEnter,C=e.legacyBehavior,E=void 0===C?!0!==Boolean(!1):C,I=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","legacyBehavior"]);n=g,!E||"string"!==typeof n&&"number"!==typeof n||(n=a.default.createElement("a",null,n));var L=!1!==j,O=r(p?a.default.useTransition():[],2)[1],S=a.default.useContext(l.RouterContext),R=a.default.useContext(c.AppRouterContext);R&&(S=R);var P,Z=a.default.useMemo((function(){var e=r(i.resolveHref(S,o,!0),2),t=e[0],n=e[1];return{href:t,as:v?i.resolveHref(S,v):n||t}}),[S,o,v]),N=Z.href,U=Z.as,T=a.default.useRef(N),q=a.default.useRef(U);E&&(P=a.default.Children.only(n));var z=E?P&&"object"===typeof P&&P.ref:t,B=r(s.useIntersection({rootMargin:"200px"}),3),D=B[0],H=B[1],K=B[2],A=a.default.useCallback((function(e){q.current===U&&T.current===N||(K(),q.current=U,T.current=N),D(e),z&&("function"===typeof z?z(e):"object"===typeof z&&(z.current=e))}),[U,z,N,K,D]);a.default.useEffect((function(){var e=H&&L&&i.isLocalURL(N),t="undefined"!==typeof m?m:S&&S.locale,n=h[N+"%"+U+(t?"%"+t:"")];e&&!n&&x(S,N,U,{locale:t})}),[U,N,H,m,L,S]);var W={ref:A,onClick:function(e){E||"function"!==typeof M||M(e),E&&P.props&&"function"===typeof P.props.onClick&&P.props.onClick(e),e.defaultPrevented||function(e,t,n,r,o,a,u,l,c){if("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&i.isLocalURL(n)){e.preventDefault();var s=function(){t[o?"replace":"push"](n,r,{shallow:a,locale:l,scroll:u})};c?c(s):s()}}(e,S,N,U,_,b,w,m,R?O:void 0)},onMouseEnter:function(e){E||"function"!==typeof k||k(e),E&&P.props&&"function"===typeof P.props.onMouseEnter&&P.props.onMouseEnter(e),i.isLocalURL(N)&&x(S,N,U,{priority:!0})}};if(!E||y||"a"===P.type&&!("href"in P.props)){var J="undefined"!==typeof m?m:S&&S.locale,X=S&&S.isLocaleDomain&&f.getDomainLocale(U,J,S.locales,S.domainLocales);W.href=X||d.addBasePath(u.addLocale(U,J,S&&S.defaultLocale))}return E?a.default.cloneElement(P,W):a.default.createElement("a",Object.assign({},I,W),n)}));t.default=v,("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7190:function(e,t,n){"use strict";var r=n(4941).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,n=e.rootMargin,c=e.disabled||!i,s=o.useRef(),f=r(o.useState(!1),2),d=f[0],p=f[1],h=r(o.useState(null),2),x=h[0],v=h[1];o.useEffect((function(){if(i){if(s.current&&(s.current(),s.current=void 0),c||d)return;return x&&x.tagName&&(s.current=function(e,t,n){var r=function(e){var t,n={root:e.root||null,margin:e.rootMargin||""},r=l.find((function(e){return e.root===n.root&&e.margin===n.margin}));if(r&&(t=u.get(r)))return t;var o=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=o.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return t={id:n,observer:a,elements:o},l.push(n),u.set(n,t),t}(n),o=r.id,a=r.observer,i=r.elements;return i.set(e,t),a.observe(e),function(){if(i.delete(e),a.unobserve(e),0===i.size){a.disconnect(),u.delete(o);var t=l.findIndex((function(e){return e.root===o.root&&e.margin===o.margin}));t>-1&&l.splice(t,1)}}}(x,(function(e){return e&&p(e)}),{root:null==t?void 0:t.current,rootMargin:n})),function(){null==s.current||s.current(),s.current=void 0}}if(!d){var e=a.requestIdleCallback((function(){return p(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[x,c,n,t,d]);var g=o.useCallback((function(){p(!1)}),[]);return[v,d,g]};var o=n(7294),a=n(9311),i="function"===typeof IntersectionObserver;var u=new Map,l=[];("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1018:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AppRouterContext=void 0;var o=((r=n(7294))&&r.__esModule?r:{default:r}).default.createContext(null);t.AppRouterContext=o},2411:function(e,t,n){"use strict";n.r(t);var r=n(7568),o=n(4051),a=n.n(o),i=n(5893),u=n(8527),l=n(5193),c=n(9116),s=n(7294),f=n(8193),d=n(2748),p=n(1664),h=n.n(p),x=n(7010);t.default=function(e){var t=(0,s.useState)(e),n=t[0],o=t[1],p=(0,s.useState)(new Set),v=p[0],g=p[1];(0,s.useEffect)((function(){var e=localStorage.getItem("likes")||"[]";g(new Set(JSON.parse(e))),console.log(v)}),[]);var j=(0,s.useRef)(),y=(new Date).toISOString().substring(0,10),_=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,fetch("/api/posts?start_date=".concat(j.current.value,"&end_date=").concat(j.current.value)).then((function(e){return e.json()})).then((function(e){o(e[0])}));case 3:m(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=(0,s.useState)(!1),w=b[0],m=b[1];return(0,i.jsx)("main",{children:(0,i.jsxs)(u.xu,{width:"100%",children:[(0,i.jsx)(u.M5,{children:(0,i.jsxs)(u.kC,{width:"lg",padding:"10px",children:[(0,i.jsx)(h(),{href:"/",passHref:!0,children:(0,i.jsx)(u.rU,{children:(0,i.jsx)(l.hU,{"aria-label":"Go Back Home",icon:(0,i.jsx)(f.iqr,{})})})}),(0,i.jsx)(u.LZ,{}),(0,i.jsxs)(c.BZ,{width:"240px",children:[(0,i.jsx)(c.Ui,{children:"Date",width:"70px"}),(0,i.jsx)(c.II,{ref:j,type:"date",defaultValue:y,min:"1995-07-01",onChange:_,max:y})]})]})}),(0,i.jsx)(u.LZ,{height:"10px"}),(0,i.jsx)(u.M5,{children:w?(0,i.jsx)(x.Z,{size:8,color:"grey"}):(0,i.jsx)(d.Z,{apod:n,likes:v,handlePostInteraction:function(e,t){t&&!v.has(e)?v.add(e):v.delete(e),g(v),localStorage.setItem("likes",JSON.stringify(Array.from(v)))}})})]})})}},1664:function(e,t,n){e.exports=n(8418)}},function(e){e.O(0,[617,897,774,888,179],(function(){return t=1551,e(e.s=t);var t}));var t=e.O();_N_E=t}]);